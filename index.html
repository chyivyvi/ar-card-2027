<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        .ui-container {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            z-index: 1000; display: flex; flex-direction: column; align-items: center; gap: 10px;
            width: 90%;
        }
        .button-group { display: flex; gap: 10px; }
        button {
            padding: 12px 20px; font-size: 16px; cursor: pointer;
            background: white; border: 2px solid #ffcccc; border-radius: 25px;
        }
        .confirm-btn { background-color: #ffcccc; font-weight: bold; }
        .step-hint { background: rgba(0,0,0,0.5); color: white; padding: 5px 15px; border-radius: 10px; }
    </style>
</head>

<body style="margin: 0; overflow: hidden;">
    <div class="ui-container">
        <div id="hint" class="step-hint">ç¬¬ä¸€æ­¥ï¼šé¸æ“‡èƒŒæ™¯è£é£¾</div>
        
        <div id="step1-btns" class="button-group">
            <button onclick="selectLayer('deco', 'heart')">â¤ æ„›å¿ƒ</button>
            <button onclick="selectLayer('deco', 'star')">â­ æ˜Ÿæ˜Ÿ</button>
            <button class="confirm-btn" onclick="nextStep(2)">ç¢ºå®š âœ”</button>
        </div>

        <div id="step2-btns" class="button-group" style="display: none;">
            <button onclick="backStep(1)">â¬… è¿”å›</button>
            <button onclick="selectLayer('ribbon', 'ribbon_a')">ğŸ€ ç·å¸¶</button>
            <button onclick="selectLayer('ribbon', 'bow')">ğŸ è´è¶çµ</button>
            <button class="confirm-btn" onclick="nextStep(3)">å®Œæˆ âœ”</button>
        </div>
    </div>

    <a-scene embedded arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; patternRatio: 0.5;">
        <a-marker preset="hiro">
            <a-image src="sheep.png" position="0 0 0" rotation="-90 0 0" width="1.5" height="1.5"></a-image>

            <a-image id="layer-heart" src="heart.png" position="0 0.1 0" rotation="-90 0 0" width="1.5" height="1.5" visible="false"></a-image>
            <a-image id="layer-star" src="star.png" position="0 0.1 0" rotation="-90 0 0" width="1.5" height="1.5" visible="false"></a-image>

            <a-image id="layer-ribbon_a" src="ribbon.png" position="0 0.2 0" rotation="-90 0 0" width="1.5" height="1.5" visible="false"></a-image>
            <a-image id="layer-bow" src="bow.png" position="0 0.2 0" rotation="-90 0 0" width="1.5" height="1.5" visible="false"></a-image>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>

    <script>
        // é¸å–é‚è¼¯
        function selectLayer(group, item) {
            if (group === 'deco') {
                document.querySelector('#layer-heart').setAttribute('visible', item === 'heart');
                document.querySelector('#layer-star').setAttribute('visible', item === 'star');
            } else if (group === 'ribbon') {
                document.querySelector('#layer-ribbon_a').setAttribute('visible', item === 'ribbon_a');
                document.querySelector('#layer-bow').setAttribute('visible', item === 'bow');
            }
        }

        // ä¸‹ä¸€æ­¥é‚è¼¯
        function nextStep(step) {
            if (step === 2) {
                document.getElementById('step1-btns').style.display = 'none';
                document.getElementById('step2-btns').style.display = 'flex';
                document.getElementById('hint').innerText = 'ç¬¬äºŒæ­¥ï¼šåŠ ä¸Šç·å¸¶é£¾å“';
            } else if (step === 3) {
                document.getElementById('step2-btns').style.display = 'none';
                document.getElementById('hint').innerText = 'å¤ªæ£’äº†ï¼é€™æ˜¯ä½ çš„å°ˆå±¬è³€å¹´å¡';
                // é€™è£¡å¯ä»¥è§¸ç™¼æ‹ç…§åŠŸèƒ½
            }
        }

        // è¿”å›é‚è¼¯
        function backStep(step) {
            if (step === 1) {
                document.getElementById('step1-btns').style.display = 'flex';
                document.getElementById('step2-btns').style.display = 'none';
                document.getElementById('hint').innerText = 'ç¬¬ä¸€æ­¥ï¼šé¸æ“‡èƒŒæ™¯è£é£¾';
            }
        }
    </script>
</body>
</html>
